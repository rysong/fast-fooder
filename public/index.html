<!DOCTYPE html>

<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="ThemeStarz">

    <link href="assets/fonts/font-awesome.css" rel="stylesheet" type="text/css">
    <link href="assets/fonts/elegant-fonts.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700,900,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.css" type="text/css">
    <link rel="stylesheet" href="assets/css/zabuto_calendar.min.css" type="text/css">
    <link rel="stylesheet" href="assets/css/jquery.nouislider.min.css" type="text/css">
    <link rel="stylesheet" href="assets/css/owl.carousel.css" type="text/css">

    <link rel="stylesheet" href="assets/css/trackpad-scroll-emulator.css" type="text/css">
    <link rel="stylesheet" href="assets/css/style.css" type="text/css">

    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.js"></script>
    <script src="index.js" defer></script>

    <title>Fast Fooder</title>
</head>

<body class="homepage">
    <div class="page-wrapper" id="vue-app">
        <header id="page-header">
            <nav>
                <div class="left">
                    <a href="/" class="brand"><img src="http://www.myiconfinder.com/uploads/iconsets/256-256-50d2bb24a01a3c32510470c6cf675782-burger.png" width="30" height="30"alt="">  Fast Fooder</a>
                </div>
                <!--end left-->
                <div class="right">
                    <div class="primary-nav has-mega-menu">
                        <ul class="navigation">
                            <li><a href="contact.html">Contact</a></li>
                        </ul>
                        <!--end navigation-->
                    </div>
                    <!--end primary-nav-->
                    <div class="secondary-nav">
                        <a href="#/login">Login</a>
                        <a href="#/signup">Sign Up</a>
                    </div>
                    <!--end secondary-nav-->
                    <a href="submit.html" class="btn btn-primary btn-small btn-rounded icon shadow add-listing"><i class="fa fa-plus"></i><span>Add Restaurant</span></a>
                    <div class="nav-btn">
                        <i></i>
                        <i></i>
                        <i></i>
                    </div>
                    <!--end nav-btn-->
                </div>
                <!--end right-->
            </nav>
            <!--end nav-->
        </header>
        <!--end page-header-->

        <router-view></router-view>

        <footer id="page-footer">
            <div class="footer-wrapper">
                <div class="block">
                    <div class="container">
                        <div class="vertical-aligned-elements">
                            <div class="element width-50">
                                <p data-toggle="modal" data-target="#myModal">Happy Eating! <a href="#">Terms of Use</a> and <a href="#">Privacy Policy</a>.</p>
                            </div>
                            <div class="element width-50 text-align-right">
                                <a href="#" class="circle-icon"><i class="social_twitter"></i></a>
                                <a href="#" class="circle-icon"><i class="social_facebook"></i></a>
                                <a href="#" class="circle-icon"><i class="social_youtube"></i></a>
                            </div>
                        </div>
                        <div class="background-wrapper">
                            <div class="bg-transfer opacity-50">
                                <img src="assets/img/footer-bg.png" alt="">
                            </div>
                        </div>
                        <!--end background-wrapper-->
                    </div>
                </div>
                <div class="footer-navigation">
                    <div class="container">
                        <div class="vertical-aligned-elements">
                            <div class="element width-50">(C) 2018 Fast Fooder, All rights reserved</div>
                            <div class="element width-50 text-align-right">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!--end page-footer-->
    </div>
    <!--end page-wrapper-->
    <a href="#" class="to-top scroll" data-show-after-scroll="600"><i class="arrow_up"></i></a>

    <script type="text/javascript" src="assets/js/jquery-2.2.1.min.js"></script>
    <script type="text/javascript" src="assets/js/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyBEDfNcQRmKQEyulDN8nGWjLYPm8s4YB58&libraries=places"></script>
    <script type="text/javascript" src="assets/js/richmarker-compiled.js"></script>
    <script type="text/javascript" src="assets/js/markerclusterer_packed.js"></script>
    <script type="text/javascript" src="assets/js/infobox.js"></script>
    <script type="text/javascript" src="assets/js/jquery.validate.min.js"></script>
    <script type="text/javascript" src="assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="assets/js/icheck.min.js"></script>
    <script type="text/javascript" src="assets/js/owl.carousel.min.js"></script>
    <script type="text/javascript" src="assets/js/moment.js"></script>
    <script type="text/javascript" src="assets/js/bootstrap-datetimepicker.min.js"></script>
    <script type="text/javascript" src="assets/js/jquery.nouislider.all.min.js"></script>
    <script type="text/javascript" src="assets/js/jquery.trackpad-scroll-emulator.min.js"></script>

    <script type="text/javascript" src="assets/js/custom.js"></script>
    <script type="text/javascript" src="assets/js/maps.js"></script>

    <script>
    </script>
</body>

<template id="home-page">
    <div id="page-content">
        <div class="hero-section full-screen has-map has-sidebar sidebar-grid">
            <div class="map-wrapper">
                <div class="geo-location">
                    <i class="fa fa-map-marker"></i>
                </div>
                <div class="map" id="map-homepage"></div>
            </div>
            <!--end map-wrapper-->
            <div class="results-wrapper">
                <div class="sidebar-detail">
                    <div class="tse-scrollable">
                        <div class="tse-content">
                            <div class="sidebar-wrapper"></div>
                            <!--end sidebar-detail-content-->
                        </div>
                        <!--end tse-content-->
                    </div>
                    <!--end tse-scrollable-->
                </div>
                <!--end sidebar-detail-->
                <div class="form search-form inputs-underline">
                    <form>
                        <div class="section-title">
                            <h2>Search</h2>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" name="keyword" placeholder="Enter Restaurant Name" v-model="nameFilter" list="restaurant-names">
                            <datalist id="restaurant-names">
                                <option v-for="restaurant in restaurants">{{ restaurant.name }}</option>
                            </datalist>
                        </div>
                        <!--end form-group-->
                    </form>
                    <!--end form-hero-->
                </div>
                <div class="results">
                    <div class="tse-scrollable">
                        <div class="tse-content">
                            <div class="section-title">
                                <h2>Search Results<span class="results-number">{{ filteredRestaurants.length }}</span></h2>
                            </div>
                            <!--end section-title-->
                            <div class="results-content" style="height: 400px">
                                <!-- <div v-for="restaurant in filteredRestaurants">
                                    <a v-bind:href=" '/#/restaurants/' + restaurant.id ">{{ restaurant.name }}</a>
                                </div>  -->
                                    <div class="item" data-id="1" v-for="restaurant in filteredRestaurants">
                                        <a v-bind:href=" '/#/restaurants/' + restaurant.id ">
                                            <div class="description">
                                                <div class="label label-default">Restaurant</div>
                                                <h3>{{ restaurant.name }}</h3>
                                                <h4>{{ restaurant.address }}</h4>
                                            </div>
                                            <!--end description-->
                                            <div class="image bg-transfer">
                                                <img v-bind:src="restaurant.logo" alt="">
                                            </div>
                                            <!--end image-->
                                        </a>
                                    </div>
                                    <!--end item-->
                                <!--<end col-md-3-->
                            </div>
                            <!--end results-content-->
                        </div>
                        <!--end tse-content-->
                    </div>
                    <!--end tse-scrollable-->
                </div>
                <!--end results-->
            </div>
            <!--end results-wrapper-->
        </div>
        <!--end hero-section-->

        <section class="block">
            <div class="container">
                <div class="center">
                    <div class="section-title">
                        <div class="center">
                            <h2>All Restaurants</h2>
                            <h3>Sort By:</h3>
                            <button class="btn btn-primary" v-on:click="setSortAttribute('speed_of_service')" id="b1">Speed</button>
                            <button class="btn btn-primary" v-on:click="setSortAttribute('travelDurationValue')">Distance</button>
                            <button class="btn btn-primary" v-on:click="setSortAttribute('chowTime')">Chow Time</button>
                        </div>
                    </div>
                    <!--end section-title-->
                </div>
                <!--end center-->
                <div class="row">
                    <div class="col-md-3 col-sm-3" v-for="restaurant in sortedRestaurants">
                        <div class="item" data-id="1">
                            <a v-bind:href=" '/#/restaurants/' + restaurant.id ">
                                <div class="description">
                                    <figure>Average Speed of Service: {{restaurant.speed_of_service}} min</figure>
                                    <figure>Distance: {{restaurant.travelDistance}} </figure>
                                    <figure>Travel Time: {{restaurant.travelDurationText}} </figure>
                                    <div class="label label-default">Restaurant</div>
                                    <h3>{{ restaurant.name }}</h3>
                                    <h4>{{ restaurant.address }}</h4>
                                </div>
                                <!--end description-->
                                <div class="image bg-transfer">
                                    <img v-bind:src="restaurant.logo" alt="">
                                </div>
                                <!--end image-->
                            </a>
                            <div class="additional-info">
                                <div class="rating-passive" v-bind:data-rating="4">
                                    <span class="stars"></span>
                                    
                                </div>
                                <div class="controls-more">
                                    <ul>
                                        <li><a v-bind:href=" '/#/restaurants/' + restaurant.id ">More Details</a></li>
                                        <li><a href="#">Add to favorites</a></li>
                                    </ul>
                                </div>
                                <!--end controls-more-->
                            </div>
                            <!--end additional-info-->
                        </div>
                        <!--end item-->
                    </div>
                    <!--<end col-md-3-->
                </div> 
                <!--end row-->
                <br>
                <div class="row">
                    <div class="col-md-4"></div>
                    <div class="col-md-4 col-sm-4">
                        <div class="center">
                            <h2>Suggested Meal</h2>
                            <button class="btn btn-primary btn-light-frame btn-rounded btn-framed" v-on:click="randomSelector()">I'm Indecisive</button>
                        </div>
                        <div class="item" data-id="1">
                            <a v-bind:href=" '/#/restaurants/' + randomRestaurant.id ">
                                <div class="description">
                                    <h3>{{ randomMeal.description }}</h3>
                                    <h4>@{{ randomRestaurant.name }}</h4>
                                    <br>
                                    <figure>Upvotes: {{randomMeal.upvotes}}</figure>
                                </div>
                                <!--end description-->
                                <div class="image bg-transfer">
                                    <img v-bind:src="randomMeal.image" alt="" align="top">
                                </div>
                                <!--end image-->
                            </a>
                            <div class="additional-info">
                                <div class="controls-more">
                                    <ul>
                                        <li><a v-bind:href=" '/#/restaurants/' + randomRestaurant.id ">More Details</a></li>
                                    </ul>
                                </div>
                                <!--end controls-more-->
                            </div>
                            <!--end additional-info-->
                        </div>
                        <!--end item-->
                    </div>
                    <!--<end col-md-3-->
                </div> 
                <!--end row-->  
            </div>
            <!--end container-->
        </section>
        <!--end block-->
        <div class="container"><hr></div>
        <section class="block big-padding">
            <div class="container">
                <div class="vertical-aligned-elements">
                    <div class="element width-50">
                        <h3>Subscribe and be notified about new restaurants!</h3>
                    </div>
                    <!--end element-->
                    <div class="element width-50">
                        <form class="form form-email inputs-underline" id="form-subscribe">
                            <div class="input-group">
                                <input type="text" class="form-control" name="email" placeholder="Your email" required="">
                                <span class="input-group-btn">
                                    <button class="btn" type="submit"><i class="arrow_right"></i></button>
                                </span>
                            </div><!-- /input-group -->
                        </form>
                        <!--end form-->
                    </div>
                    <!--end element-->
                </div>
                <!--end vertical-aligned-elements-->
            </div>
            <!--end container-->
            <div class="background-wrapper">
                <div class="background-color background-color-black opacity-5"></div>
            </div>
            <!--end background-wrapper-->
        </section>
        <!--end block-->
        <div class="container">
            <hr>
        </div>
        <!--end container-->
    </div>
    <!--end page-content-->
</template>

<template id="restaurants-show-page">
    <div id="page-content" >
        <div class="container">
            <ol class="breadcrumb">   
            </ol>
            <section class="page-title pull-left">
                <h1>{{ restaurant.name }}</h1>
                <h3>{{ restaurant.address }}</h3>
                <h3>Average Speed of Service: {{ restaurant.speed_of_service }} minutes</h3>
                <div class="rating-passive" v-bind:data-rating=4><!-- v-bind:data-rating="googleInfo.rating" need to fix theme to show this rating-->
                    <span class="stars"></span>
                    <!-- <span class="reviews">{{reviews.length}}</span> shows number of reviews for restaurant--> 
                </div>
            </section>
            <!--end page-title-->
            <a href="#write-a-review" class="btn btn-primary btn-framed btn-rounded btn-light-frame icon scroll pull-right"><i class="fa fa-star"></i>Write a review</a>
        </div>
        <!--end container-->
        <section>
            <div class="gallery detail">
                <div class="owl-carousel" data-owl-items="3" data-owl-loop="1" data-owl-auto-width="1" data-owl-nav="1" data-owl-dots="0" data-owl-margin="2" data-owl-nav-container="#gallery-nav">
                    <div class="image">
                        <div class="bg-transfer"><img v-bind:src="restaurant.primary_image" alt="test"></div>
                    </div>
                    <div v-for="image in restaurant.images" class="image">
                        <div class="bg-transfer"><img v-bind:src="image.url" alt=""></div>
                    </div>
                </div>
                <!--end owl-carousel-->
            </div>
            <!--end gallery-->
        </section>
        <div class="container">
            <div class="row">
                <div class="col-md-7 col-sm-7" style="background-color: white !important">
                    <div id="gallery-nav"></div>
                    <section>
                        <h2>About this Restaurant:</h2>
                        <p>
                            {{ wikiInfo.extract }}
                        </p>
                    </section>
                    <section>
                        <h2>Other Info:</h2>
                        <ul class="tags">
                            <li>Wi-Fi</li>
                            <li>Desserts</li>
                            <li>Parking</li>
                            <li>TV</li>
                            <li>Alcohol</li>
                            <li>Vegetarian</li>
                            <!-- <li>Take-out</li> -->
                        </ul>
                    </section>
                    <section>
                        <h2>Reviews:</h2>
                        <div class="review" v-for="review in reviews">
                            <div class="image">
                                <div class="bg-transfer" style="z-index: 1"><img v-bind:src="review.profile_photo_url" alt=""></div>
                            </div>
                            <div class="description">
                                <figure>
                                    <!-- <div class="rating-passive" data-rating="4">
                                        <span class="stars"></span>
                                    </div> -->
                                    <span class="date">{{ review.author_name + ":" }}</span>
                                    <span class="date">{{ review.relative_time_description }}</span>
                                </figure>
                                <p>{{ review.text }}</p>
                            </div>
                        </div>
                        <!--end review-->
                    </section>
                    <section>
                        <h2>Top Meals:</h2>
                        <div v-for="meal in topMeals">
                            <h3>{{ meal.description + " (upvotes:" + meal.upvotes + ")"}}</h3>
                            <button class="btn btn-primary" v-on:click="upvote(meal)">Upvote</button>
                            <div>
                                <img v-bind:src="meal.image" height="200" width="200">
                            </div>
                                <div>
                                    <input type="text" placeholder="Say something about it" v-model="meal.new_user_meal_text">
                                    <br>
                                    <button type="submit" class="btn btn-primary" v-on:click="submit(meal)">Submit</button>
                                </div> 
                            <li v-for="user_meal in meal.user_meals"> {{user_meal.user.name + ": " + user_meal.text  }} </li>

                            <div class="image">
                                <div class="bg-transfer"><img src="assets/img/person-02.jpg" alt=""></div>
                            </div>
                            <div class="description">
                                <figure>
                                    <div class="rating-passive" data-rating="4">
                                        <span class="stars"></span>
                                    </div>
                                    <span class="date"></span>
                                </figure>
                                <p></p>
                            </div>
                        </div>
                        <!--end review-->
                    </section>
                    <section id="write-a-review">
                        <h2>Write a Review</h2>
                        <form class="clearfix form inputs-underline">
                            <div class="box">
                                <div class="comment">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="comment-title">
                                                <h4>Review your experience</h4>
                                            </div>
                                            <!--end title-->
                                           <div class="form-group">
                                                <label for="name">Rating<em>*</em></label>
                                                <input type="text" class="form-control" id="name" name="name" placeholder="1 is terrible, 5 is perfect" required="">
                                            </div>

                                            <div class="form-group">
                                                <label for="message">Your Message<em>*</em></label>
                                                <textarea class="form-control" id="message" rows="8" name="message" required="" placeholder="Describe your experience"></textarea>
                                            </div>
                                            <!--end form-group-->
                                        </div>
                                        <!--end col-md-8-->
                                    </div>
                                    <!--end row-->
                                    <br>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary btn-rounded">Send Review</button>
                                    </div>
                                    <!--end form-group-->
                                </div>
                                <!--end comment-->
                            </div>
                            <!--end review-->
                        </form>
                        <!--end form-->
                    </section>
                </div>
                <!--end col-md-7-->
                <div class="col-md-5 col-sm-5">
                    <div class="detail-sidebar">
                        <section class="shadow">
                            <div class="map height-250px" id="map"></div>
                            <!--end map-->
                            <div class="content">
                                <address>
                                    <figure><i class="fa fa-map-marker"></i>{{ restaurant.address +" (" + travelDistance + " or " + travelDurationText + " away)" }} </figure>
                                    <!-- <figure><i class="fa fa-map-marker"></i>{{ travelDistance + " or " + travelDurationText + " away)" }}</figure> -->
                                    <figure><i class="fa fa-phone"></i>{{ googleInfo.formatted_phone_number }}</figure>
                                    <figure><i class="fa fa-globe"></i><a v-bind:href="googleInfo.website">{{restaurant.name}} Website</a> </figure>
                                </address>
                            </div>
                        </section>
                        <!-- <section>
                            <h2>Opening Hours</h2>
                            <dl>
                                <dt>Monday</dt>
                                <dd>08:00am - 11:00pm</dd>
                                <dt>Tuesday</dt>
                                <dd>08:00am - 11:00pm</dd>
                                <dt>Wednesday</dt>
                                <dd>08:00am - 11:00pm</dd>
                                <dt>Thursday</dt>
                                <dd>08:00am - 11:00pm</dd>
                                <dt>Friday</dt>
                                <dd>03:00pm - 02:00am</dd>
                                <dt>Saturday</dt>
                                <dd>03:00pm - 02:00am</dd>
                                <dt>Sunday</dt>
                                <dd>Closed</dd>
                            </dl>
                        </section> -->
                        <section >
                            <h2>Opening Hours</h2>
                            <dl v-for="hours in googleInfo.opening_hours.weekday_text">
                                <dt>{{ hours.split(": ")[0] }}</dt>
                                <dd>{{ hours.split(": ")[1] }}</dd>
                            </dl>
                        </section>
                        <section>
                            <h2>Share This Listing</h2>
                            <div class="social-share"></div>
                        </section>
                    </div>
                    <!--end detail-sidebar-->
                </div>
                <!--end col-md-5-->
            </div>
            <!--end row-->
        </div>
        <!--end container-->
    </div>
</template>

<template id="login-page">
  <div class="vue-component">

    <div class="container">
      <h1>Login</h1>
      <ul>
        <li class="text-danger" v-for="error in errors">{{ error }}</li>
      </ul>
      <div class="form-group">
        <label>Email:</label>
        <input type="email" class="form-control" v-model="email">
      </div>
      <div class="form-group">
        <label>Password:</label>
        <input type="password" class="form-control" v-model="password">
      </div>
      <button class="btn btn-primary" v-on:click="submit()">Submit</button>
    </div>

  </div>
</template>

<template id="signup-page">
  <div class="vue-component">

    <div class="container">
      <h1>Sign Up</h1>
      <ul>
        <li class="text-danger" v-for="error in errors">{{ error }}</li>
      </ul>
      <div class="form-group">
        <label>Name:</label> 
        <input type="text" class="form-control" v-model="name">
      </div>
      <div class="form-group">
        <label>Email:</label>
        <input type="email" class="form-control" v-model="email">
      </div>
      <div class="form-group">
        <label>Password:</label>
        <input type="password" class="form-control" v-model="password">
      </div>
      <div class="form-group">
        <label>Password confirmation:</label>
        <input type="password" class="form-control" v-model="passwordConfirmation">
      </div>
      <button class="btn btn-primary" v-on:click="submit()">Submit</button>
    </div>

  </div>
</template>

<template id="reviews-new-page">
  <div class="vue-component">

    <div class="container">
      <h1>New Review</h1>
      <ul>
        <li class="text-danger" v-for="error in errors">{{ error }}</li>
      </ul>
      <div class="form-group">
        <label>Review Value: </label>
        <input type="text" class="form-control" v-model="value">
      </div>
      <div class="form-group">
        <label>Review Text: </label>
        <input type="text" class="form-control" v-model="text">
      </div>
      <button class="btn btn-primary" v-on:click="submit()">Submit</button>
    </div>

  </div>
</template>